<div class="works-wrapper">
  <section class="works">
  <% @themes.each_with_index do |theme, i| %>
    <%= link_to theme_works_path(theme.id), class: "work", data: {id: i} do %>
      <%= image_tag theme.cover_image, class: "hovering-image", data: {size: "image", div: i} if theme.cover_image.present? %>
      <h2 class="text-center"><%= theme.title %></h2>
      <p class="theme-description">
        <%= theme.description %>
      </p>
      
    <% end %>
  <% end %>
  </section>
</div> 
<script type="text/javascript">
  window.onload = function() {
    images = document.querySelectorAll('[data-size="image"]');
    images.forEach(function(image) {
    div_id = image.dataset.div;
    div = document.querySelector('[data-id="' + div_id + '"]');
    div.style.height = (image.height + 140) + 'px';
  });
  };
</script>
